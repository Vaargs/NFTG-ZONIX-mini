<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NFTG-ZONIX Mini App</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@tonconnect/ui@1.0.0/dist/tonconnect-ui.min.js"></script>
    <link rel="stylesheet" href="mini-style.css">
</head>
<body>
    <!-- Header -->
    <div class="header">
        <div class="logo">NFTG-ZONIX</div>
        <div class="mode-indicator" id="mode-indicator"></div>
        <button class="hamburger-menu" id="hamburger-menu">
            <div class="hamburger-line"></div>
            <div class="hamburger-line"></div>
            <div class="hamburger-line"></div>
        </button>
    </div>

    <!-- Main Grid Area -->
    <div class="grid-container" id="grid-container">
        <div class="pixel-grid" id="pixel-grid"></div>
        
        <!-- Floating Controls -->
        <div class="floating-controls">
            <button class="control-btn zoom-in" id="zoom-in">+</button>
            <button class="control-btn zoom-out" id="zoom-out">‚àí</button>
            <button class="control-btn center" id="center">‚åñ</button>
        </div>
    </div>

    <!-- Bottom Status Bar -->
    <div class="bottom-bar" id="bottom-bar">
        <div class="mode-tabs">
            <button class="mode-tab active" data-mode="view" id="view-mode">üëÅÔ∏è</button>
            <button class="mode-tab" data-mode="buy" id="buy-mode">üí∞</button>
            <button class="mode-tab" data-mode="mass-buy" id="mass-buy-mode">üõí</button>
            <button class="mode-tab" data-mode="edit" id="edit-mode">üé®</button>
        </div>
        
        <div class="status-info">
            <div class="status-item">
                <span class="status-label">–ö—É–ø–ª–µ–Ω–æ:</span>
                <span class="status-value" id="owned-count">0/100</span>
            </div>
            <div class="status-item">
                <span class="status-label">–í—ã–±—Ä–∞–Ω–æ:</span>
                <span class="status-value" id="selected-count">0</span>
            </div>
        </div>
    </div>

    <!-- Action Button -->
    <div class="action-button-container" id="action-button-container">
        <button class="action-button" id="action-button">–ö—É–ø–∏—Ç—å</button>
    </div>

    <!-- Channel Navigator Sidebar -->
    <div class="channel-sidebar" id="channel-sidebar">
        <div class="sidebar-header">
            <h3>üì∫ –ù–∞–≤–∏–≥–∞—Ç–æ—Ä –∫–∞–Ω–∞–ª–æ–≤</h3>
            <button class="close-sidebar" id="close-sidebar">√ó</button>
        </div>
        
        <div class="sidebar-content">
            <div class="search-section">
                <input type="text" class="search-input" placeholder="–ü–æ–∏—Å–∫ –∫–∞–Ω–∞–ª–æ–≤..." id="search-input">
            </div>
            
            <div class="filters-section">
                <div class="filter-group">
                    <label>–ö–∞—Ç–µ–≥–æ—Ä–∏–∏:</label>
                    <div class="category-filters" id="category-filters">
                        <div class="filter-tag" data-category="–ö—Ä–∏–ø—Ç–∞">üí∞ –ö—Ä–∏–ø—Ç–∞</div>
                        <div class="filter-tag" data-category="–ò–≥—Ä—ã">üéÆ –ò–≥—Ä—ã</div>
                        <div class="filter-tag" data-category="–ù–æ–≤–æ—Å—Ç–∏">üì∞ –ù–æ–≤–æ—Å—Ç–∏</div>
                        <div class="filter-tag" data-category="–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏">üíª –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏</div>
                    </div>
                </div>
                
                <div class="filter-group">
                    <label>–°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞:</label>
                    <select class="sort-select" id="sort-select">
                        <option value="newest">üÜï –ù–æ–≤—ã–µ</option>
                        <option value="rating">‚≠ê –ü–æ —Ä–µ–π—Ç–∏–Ω–≥—É</option>
                        <option value="subscribers">üë• –ü–æ –ø–æ–¥–ø–∏—Å—á–∏–∫–∞–º</option>
                    </select>
                </div>
            </div>
            
            <div class="channels-list" id="channels-list">
                <!-- Channels will be populated here -->
            </div>
        </div>
    </div>

    <!-- Purchase Modal -->
    <div class="modal" id="purchase-modal">
        <div class="modal-content">
            <h3>üí∞ –ü–æ–∫—É–ø–∫–∞ –ø–∏–∫—Å–µ–ª—è #<span id="purchase-pixel-id">0</span></h3>
            <p>–¶–µ–Ω–∞: <span id="purchase-price">5</span> TON</p>
            
            <div class="form-group">
                <label for="category-select">üìÇ –ö–∞—Ç–µ–≥–æ—Ä–∏—è –∫–∞–Ω–∞–ª–∞:</label>
                <select id="category-select" class="form-control">
                    <option value="">–í—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—é</option>
                    <option value="–ö—Ä–∏–ø—Ç–∞">üí∞ –ö—Ä–∏–ø—Ç–∞</option>
                    <option value="–ò–≥—Ä—ã">üéÆ –ò–≥—Ä—ã</option>
                    <option value="–ù–æ–≤–æ—Å—Ç–∏">üì∞ –ù–æ–≤–æ—Å—Ç–∏</option>
                    <option value="–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏">üíª –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏</option>
                    <option value="–ë–∏–∑–Ω–µ—Å">üíº –ë–∏–∑–Ω–µ—Å</option>
                    <option value="–û–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ">üìö –û–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ</option>
                </select>
            </div>

            <div class="form-group">
                <label for="telegram-link">üîó Telegram –∫–∞–Ω–∞–ª:</label>
                <input type="text" id="telegram-link" class="form-control" 
                       placeholder="@username –∏–ª–∏ https://t.me/username">
            </div>

            <div class="form-group">
                <label for="pixel-description">üìù –û–ø–∏—Å–∞–Ω–∏–µ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):</label>
                <input type="text" id="pixel-description" class="form-control" 
                       placeholder="–ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∫–∞–Ω–∞–ª–∞" maxlength="100">
            </div>

            <div class="modal-actions">
                <button class="btn btn-success" id="confirm-purchase">üí∞ –ö—É–ø–∏—Ç—å</button>
                <button class="btn btn-secondary" id="cancel-purchase">‚ùå –û—Ç–º–µ–Ω–∞</button>
            </div>
        </div>
    </div>

    <!-- Mass Purchase Modal -->
    <div class="modal" id="mass-purchase-modal">
        <div class="modal-content">
            <h3>üõí –ú–∞—Å—Å–æ–≤–∞—è –ø–æ–∫—É–ø–∫–∞</h3>
            <p>–ü–∏–∫—Å–µ–ª–µ–π: <span id="mass-count">0</span></p>
            <p>–û–±—â–∞—è —Ü–µ–Ω–∞: <span id="mass-total">0</span> TON</p>
            
            <div class="form-group">
                <label for="mass-category-select">üìÇ –ö–∞—Ç–µ–≥–æ—Ä–∏—è:</label>
                <select id="mass-category-select" class="form-control">
                    <option value="">–í—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—é</option>
                    <option value="–ö—Ä–∏–ø—Ç–∞">üí∞ –ö—Ä–∏–ø—Ç–∞</option>
                    <option value="–ò–≥—Ä—ã">üéÆ –ò–≥—Ä—ã</option>
                    <option value="–ù–æ–≤–æ—Å—Ç–∏">üì∞ –ù–æ–≤–æ—Å—Ç–∏</option>
                    <option value="–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏">üíª –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏</option>
                </select>
            </div>

            <div class="form-group">
                <label for="mass-telegram-link">üîó Telegram –∫–∞–Ω–∞–ª:</label>
                <input type="text" id="mass-telegram-link" class="form-control" 
                       placeholder="@username –∏–ª–∏ https://t.me/username">
            </div>

            <div class="modal-actions">
                <button class="btn btn-success" id="confirm-mass-purchase">üõí –ö—É–ø–∏—Ç—å –≤—Å–µ</button>
                <button class="btn btn-secondary" id="cancel-mass-purchase">‚ùå –û—Ç–º–µ–Ω–∞</button>
            </div>
        </div>
    </div>

    <!-- Editor Modal -->
    <div class="modal" id="editor-modal">
        <div class="modal-content editor-content">
            <h3>üé® –†–µ–¥–∞–∫—Ç–æ—Ä –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π</h3>
            
            <div class="editor-controls">
                <input type="file" id="image-input" accept="image/*" style="display: none;">
                <button class="btn btn-primary" onclick="document.getElementById('image-input').click()">üìÅ –ó–∞–≥—Ä—É–∑–∏—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ</button>
                <button class="btn btn-secondary" id="close-editor">‚ùå –ó–∞–∫—Ä—ã—Ç—å</button>
            </div>

            <div class="canvas-container">
                <canvas id="editor-canvas" width="300" height="200"></canvas>
            </div>

            <div class="editor-controls">
                <button class="btn btn-secondary" id="zoom-in-editor">üîç+</button>
                <button class="btn btn-secondary" id="zoom-out-editor">üîç‚àí</button>
                <button class="btn btn-secondary" id="rotate-left">‚Ü∫</button>
                <button class="btn btn-secondary" id="rotate-right">‚Üª</button>
                <button class="btn btn-secondary" id="reset-editor">üîÑ</button>
            </div>

            <div class="editor-controls">
                <button class="btn btn-primary" id="preview-editor">üëÅÔ∏è –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä</button>
                <button class="btn btn-success" id="apply-editor">‚úÖ –ü—Ä–∏–º–µ–Ω–∏—Ç—å</button>
            </div>
        </div>
    </div>

    <!-- Pixel Info Modal -->
    <div class="modal" id="pixel-info-modal">
        <div class="modal-content">
            <h3>‚ÑπÔ∏è –ü–∏–∫—Å–µ–ª—å #<span id="info-pixel-id">0</span></h3>
            
            <div class="pixel-info">
                <div class="info-row">
                    <span class="info-label">üë§ –í–ª–∞–¥–µ–ª–µ—Ü:</span>
                    <span class="info-value" id="info-owner">@username</span>
                </div>
                <div class="info-row">
                    <span class="info-label">üìÇ –ö–∞—Ç–µ–≥–æ—Ä–∏—è:</span>
                    <span class="info-value" id="info-category">–ù–µ —É–∫–∞–∑–∞–Ω–∞</span>
                </div>
                <div class="info-row">
                    <span class="info-label">üìÖ –î–∞—Ç–∞:</span>
                    <span class="info-value" id="info-date">–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞</span>
                </div>
                <div class="info-row">
                    <span class="info-label">üí∞ –¶–µ–Ω–∞:</span>
                    <span class="info-value" id="info-price">5 TON</span>
                </div>
            </div>

            <div class="modal-actions">
                <button class="btn btn-primary" id="visit-channel">üîó –ü–µ—Ä–µ–π—Ç–∏</button>
                <button class="btn btn-secondary" id="close-pixel-info">‚ùå –ó–∞–∫—Ä—ã—Ç—å</button>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="js/mini-utils.js"></script>
    <script src="js/mini-grid.js"></script>
    <script src="js/mini-modals.js"></script>
    <script src="js/mini-channels.js"></script>
    <script src="js/mini-editor.js"></script>
    <script src="js/mini-app.js"></script>
</body>
</html>